
var productsList= [
    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/1-2_300x.png?v=1653637007",
        name: "Wave Neo",
        rev: "4.7 | 19 reviews",
        discount:"70%off",
        price: "1799",
        strikedoffprice: "5990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/blue_d8db0011-02f7-43d6-9fe7-7a71a9ed86d2_300x.png?v=1654312290",
        name: "Wave Connect",
        rev: "4.9 | 88 reviews",
        discount:"57% off",
        price: "2999",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/blue_58bd5e28-de95-4f31-909d-6bce484bdbd9_300x.png?v=1658294451",
        name: "Wave Select",
        rev: "5.0 | 13 reviews",
        discount:"64% off",
        price: "2499",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/Blaze-FI-Red04_300x.png?v=1658123186",
        name: "Blaze",
        rev: "5.0 | 20 reviews",
        discount:"47% off",
        price: "3699",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/main-images-2_300x.png?v=1655198531",
        name: "Xtend Sport",
        rev: "4.9 | 7 reviews",
        discount:"64% off",
        price: "2499",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/a6549acb-b075-4c3e-8ed3-9c9fcba32d42_300x.png?v=1625046216",
        name: "Storm",
        rev: "4.9 | 1010 reviews",
        discount:"59% off",
        price: "2449",
        strikedoffprice: "5990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/5752f5e4-89e0-4f84-b7fe-4d9f85771046_300x.png?v=1625157753",
        name: "Watch Flash",
        rev: "4.8 | 48 reviews",
        discount:"36% off",
        price: "4499",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/xtend_black_300x.png?v=1650387008",
        name: "Xtend",
        rev: "4.8 | 146 reviews",
        discount:"67% off",
        price: "2659",
        strikedoffprice: "7990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/main3.3_9198fbdb-47fc-4ba1-878f-10d3acdb3d9c_300x.png?v=1646394746",
        name: "TRebel Blaze",
        rev: "5.0 | 6 reviews",
        discount:"43% off",
        price: "3999",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/mainblack_300x.png?v=1658994702",
        name: "Iris",
        rev: "5.0 | 2 reviews",
        discount:"63% off",
        price: "4499",
        strikedoffprice: "11999",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/main1_f30681d9-fddb-4997-bfcb-503fcc258a5c_300x.png?v=1646392933",
        name: "Matrix",
        rev: "5.0 | 11 reviews",
        discount:"58% off ",
        price: "4999",
        strikedoffprice: "11990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/main6_2_8e1cdd84-4a34-4e92-97c5-0e1d4ba6da46_300x.png?v=1646393710",
        name: "TRebel Xtend",
        rev: "5.0 | 3 reviews",
        discount:"56% off",
        price: "3499",
        strikedoffprice: "7990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/main_2b98dda1-57d3-40ee-80f0-4687b8f8a72b_300x.png?v=1662537789",
        name: "Watch Xtend DC Edition",
        rev: "Be the first to review",
        discount:"12% off",
        price: "3499",
        strikedoffprice: "3990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/storm-black_82c0d3c8-da5c-49f1-8d13-08055d7afac8_300x.png?v=1623843234",
        name: "Storm RTL",
        rev: "5.0 | 3 reviews",
        discount:"50% off",
        price: "2999",
        strikedoffprice: "5990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/Matrix-FI_Blue02_da7a821f-c621-4af6-aec2-7d647df3a5db_300x.png?v=1658994355",
        name: "TRebel Matrix",
        rev: "5.0 | 1 review",
        discount:"58% off",
        price: "4999",
        strikedoffprice: "11990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/2_1e5f7cde-1976-4877-b92b-a685bed27233_300x.png?v=1662123878",
        name: "Storm Pro Call",
        rev: "5.0 | 10 reviews",
        discount:"64% off",
        price: "3499",
        strikedoffprice: "9799",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/20dbeecf-4dc2-48c6-8dae-8a31f1746f44_300x.png?v=1625046513",
        name: "Xplorer O2",
        rev: "4.8 | 29 reviews",
        discount:"33% off",
        price: "3999",
        strikedoffprice: "5990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/xtend_black_ae26d6cf-4552-45a6-8a61-42160e1b4407_300x.png?v=1658829594",
        name: "Watch Xtend RTL",
        rev: "Be the fist to review",
        discount:"56% off",
        price: "3499",
        strikedoffprice: "7990",
        save: "Save ₹15 more on UPI payment",
    },

    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/5752f5e4-89e0-4f84-b7fe-4d9f85771046_44573016-8eae-4ed9-8fa7-57f96575ba8f_300x.png?v=1658829787",
        name: "Watch Flash RTL",
        rev: "Be the first to review",
        discount:"57% off",
        price: "2999",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    }, 
    
    {
        img_link: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/Green_4_300x.png?v=1651215796",
        name: "Mystiq",
        rev: "4.8 | 5 reviews",
        discount:"64% off",
        price: "2499",
        strikedoffprice: "6990",
        save: "Save ₹15 more on UPI payment",
    },
    
];
    
//Function to append products//
showList(productsList);

function showList(productsList){
    document.getElementById("parent").innerHTML = "";
    productsList.map(function(elem, i){

        var div = document.createElement("div");
        div.setAttribute("class","card");

        var img = document.createElement("img");
        img.setAttribute("src",elem.img_link);

        var imgBx = document.createElement("div");
        imgBx.setAttribute("class","imgBx");
        imgBx.append(img);

        var name = document.createElement("h3");
        name.textContent=elem.name;
        name.setAttribute("class","name");

        //
        var stars = document.createElement("i");
        stars.setAttribute("class", "fa-solid fa-star");

        var rev = document.createElement("p");
        rev.textContent=elem.rev;
        rev.setAttribute("class","rev");

        // Consists of star, rating, rev
        reviewBox = document.createElement("div");
        reviewBox.setAttribute("class","reviewBox");
        reviewBox.append(stars, rev);
        //

        var x = document.createElement("hr");

        var disc = document.createElement("p");
        disc.textContent=elem.disc;
        disc.setAttribute("class","disc");

        var priceEle = document.createElement("p");
        priceEle.setAttribute("class","price");
        priceEle.textContent = "₹"+" "+elem.price;

        var strikedoffprice = document.createElement("p");
        strikedoffprice.setAttribute("class","strprice");
        strikedoffprice.textContent = "₹"+" "+elem.strikedoffprice;

        // Consists of Disc, Price & Striked Price
        var priceparent = document.createElement("div");
        priceparent.setAttribute("class","priceparent");
        priceparent.append(disc,priceEle,strikedoffprice);

        var save = document.createElement("p");
        save.textContent=elem.save;
        save.setAttribute("class","save");

        var shopCartbtn = document.createElement("button");
        shopCartbtn.textContent="ADD TO CART";
        shopCartbtn.setAttribute("class","shopCartbtn");
        shopCartbtn.addEventListener("click", function() {
            addtocart(i);
        });

        // Constist of all contents in side of image
        var description = document.createElement("div");
        description.setAttribute("class","description");
        description.append(name,reviewBox,x,priceparent,save,shopCartbtn); ///

        div.append(imgBx,description);
        document.getElementById("parent").append(div);
    });
}


//Sorting 
function sortFun(){
    var selected=document.querySelector("#sort").value;
    var sortProduct ;
    if(selected=="Sort by Featured"){
        console.log(productsList);
        sortProduct =  productsList; 
    }
    else if(selected=="Price, low to high"){
        sortProduct =  productsList.sort(function(a,b){
        return parseFloat(a.price)-parseFloat(b.price);
    })  
    }
    else if(selected=="Price, high to low"){
        sortProduct =  productsList.sort(function(a,b){
        return parseFloat(b.price)-parseFloat(a.price);
    })  
    }

    else if(selected==="Alphabetically, A-Z"){
        sortProduct =  productsList.sort(function(a,b){
            if(a.name>b.name) return 1;
            if(a.name<b.name) return -1;
            return 0;
        });  
    }

    else if(selected==="Alphabetically, Z-A"){
        sortProduct =  productsList.sort(function(a,b){
            if(a.name>b.name) return -1;
            if(a.name<b.name) return 1;
            return 0;
    })  
    }

    console.log(sortProduct)

    return showList(sortProduct);
}


// Add to Cart

var cartProduct = JSON.parse(localStorage.getItem("cart")) || [];
        
function addtocart(index){
    event.preventDefault()
    alert("Product added to cart sucessfully !")
    var flag = 0
    var ind  = 0
    var prod = productsList.filter(function(elem,i){
        return i == index
    })
    var cartp = cartProduct.filter(function(elem,i){
        if(elem.name === prod[0].name){
            flag = 1
            ind = i
        }
    })
    if(flag == 0){
        prod[0].qty = 1
        cartProduct.push(prod[0])
    }
    else{
        cartProduct[ind].qty++
        flag = 0
    }
    localStorage.setItem("cart",JSON.stringify(cartProduct))
    console.log(cartProduct)
    var cartItems = JSON.parse(localStorage.getItem("cart")) || []
        var items =  cartItems.length
        console.log(items)
        if(items>0){
        document.querySelector(".nitems").textContent = items
        }
    
}
      
var cartItems = JSON.parse(localStorage.getItem("cart")) || [];
var items =  cartItems.length;
console.log(items);
if(items>0){
    document.querySelector(".nitems").textContent = items
}

// Mouse Moves

function displayData(){
    var keep = document.querySelector(".curser")
    keep.style.display = "grid";
    keep.style.background = "white";
    document.querySelector("body").addEventListener("mouseleave",removeData)
  }
  document.querySelector(".mouse").addEventListener("mouseover",displayData)
  
function removeData(){
    var keep = document.querySelector(".curser")
    keep.style.display = "none";
}

document.querySelector("body").addEventListener("mouseleave",removeData)
   
